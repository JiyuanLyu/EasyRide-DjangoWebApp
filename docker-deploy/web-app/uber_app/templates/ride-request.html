{% extends 'base.html' %}

{% block content %}
<div class="container my-5">
    <h2>Request a Ride</h2>
    <form method="post" action="">
        {% csrf_token %}
        <div class="row">
            <div class="form-group row my-2">
                <label for="destination" class="col-sm-2 col-form-label">Destination:</label>
                <div class="col-lg-10">
                    {{ ride_request_form.destination }}
                </div>
            </div>

            <div class="form-group row my-2">
                <label for="required_arrival_date_time" class="col-sm-2 col-form-label">Required Arrival:</label>
                <div class="col-lg-10">
                    {{ ride_request_form.required_arrival_date_time }}
                </div>
            </div>

            <div class="form-group row my-2">
                <label for="vehicle_type" class="col-sm-2 col-form-label">Vehicle Type (optional):</label>
                <div class="col-lg-10">
                    {{ ride_request_form.vehicle_type }}
                </div>
            </div>

            <div class="form-group row my-2">
                <label for="special_request" class="col-sm-2 col-form-label">Special Request (optional):</label>
                <div class="col-lg-10">
                    {{ ride_request_form.special_request }}
                </div>
            </div>

            <div class="form-group row my-2">
                <label for="shared" class="col-sm-2 col-form-label">Shared:</label>
                <div class="col-lg-10">
                    {{ ride_request_form.shared }}
                </div>
            </div>

            <div class="form-group row my-2">
                <label for="owner_passenger_num" class="col-sm-2 col-form-label">Number of Passengers:</label>
                <div class="col-lg-10">
                    {{ ride_request_form.owner_passenger_num }}
                </div>
            </div>

        </div>
        <button type="submit" class="btn btn-success">Submit Request</button>
    </form>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Get the current local time
        const now = new Date();
        const localDateTime = new Date(now.getTime() - now.getTimezoneOffset() * 60000).toISOString().slice(0, 16);
        document.getElementById('id_required_arrival_date_time').setAttribute('min', localDateTime);
    });
</script>

{% endblock %}